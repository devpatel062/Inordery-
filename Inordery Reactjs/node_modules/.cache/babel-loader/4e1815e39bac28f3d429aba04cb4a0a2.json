{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\t\\\\my-react-projects-main\\\\Restaurant-Menu-App\\\\src\\\\components\\\\adminlogin.jsx\",\n    _s = $RefreshSig$();\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Menu from './menu';\nimport Categories from './categories';\nimport '../styles/warning.css';\nimport items from './data';\nimport { useEffect, useState } from 'react';\nimport Addrecipe from './addrecipe';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst allcategories = ['all', ...new Set(items.map(item => item.category))];\nexport const Adminlogin = () => {\n  _s();\n\n  useEffect(() => {\n    const fetchdata = async () => {\n      const response = await fetch(\"http://localhost:3001/mysite/menu/viewmenu\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }); // fetch data from the server\n\n      const data = await response.json();\n      console.log(data);\n      setMenuItems(data.data);\n    };\n\n    fetchdata();\n  }, []);\n  const [menuItems, setMenuItems] = useState([]);\n  const [categories, setcategories] = useState(allcategories);\n  const [deleted, setDeleted] = useState(false);\n\n  const filterItems = category => {\n    if (category === 'all') {\n      return setMenuItems(items);\n    }\n\n    const newItems = items.filter(item => item.category === category);\n    return setMenuItems(newItems);\n  };\n\n  const handledelete = async id => {\n    console.log(id);\n    const response = await fetch(`http://localhost:3001/mysite/menu/deletemenu/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await response.json();\n    console.log(data);\n    setDeleted(true);\n  };\n\n  setTimeout(() => {\n    setDeleted(false);\n  }, 2000);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [deleted && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"Deleted Successfully\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(Addrecipe, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center py-5\",\n      children: \"Our Menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Categories, {\n      filterItems: filterItems,\n      categories: categories\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      items: menuItems,\n      handleclick: handledelete,\n      crud: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Adminlogin, \"VJ1w46fQvl0LTMP4SfNxpmoItn0=\");\n\n_c = Adminlogin;\nexport default Adminlogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Adminlogin\");","map":{"version":3,"names":["Menu","Categories","items","useEffect","useState","Addrecipe","allcategories","Set","map","item","category","Adminlogin","fetchdata","response","fetch","method","headers","data","json","console","log","setMenuItems","menuItems","categories","setcategories","deleted","setDeleted","filterItems","newItems","filter","handledelete","id","setTimeout"],"sources":["C:/Users/User/Downloads/t/my-react-projects-main/Restaurant-Menu-App/src/components/adminlogin.jsx"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Menu from './menu';\r\nimport Categories from './categories';\r\nimport '../styles/warning.css'\r\nimport items from './data'\r\nimport { useEffect, useState } from 'react';\r\nimport Addrecipe from './addrecipe';\r\n\r\nconst allcategories = ['all', ...new Set(items.map((item) => item.category))]\r\n\r\nexport const Adminlogin = () => {\r\n\r\n    useEffect(() => {\r\n        const fetchdata = async () => {\r\n            const response = await fetch(\"http://localhost:3001/mysite/menu/viewmenu\", {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n\r\n            }) // fetch data from the server\r\n            const data = await response.json()\r\n            console.log(data)\r\n            setMenuItems(data.data)\r\n\r\n        }\r\n        fetchdata();\r\n    }, []);\r\n    const [menuItems, setMenuItems] = useState([]);\r\n    const [categories, setcategories] = useState(allcategories);\r\n    const [deleted, setDeleted] = useState(false);\r\n\r\n    const filterItems = (category) => {\r\n        if (category === 'all') {\r\n            return setMenuItems(items);\r\n        }\r\n        const newItems = items.filter((item) => item.category === category)\r\n        return setMenuItems(newItems)\r\n\r\n    }\r\n    \r\n    const handledelete = async (id) => {\r\n        console.log(id)\r\n        const response = await fetch(`http://localhost:3001/mysite/menu/deletemenu/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n        const data = await response.json()\r\n        console.log(data)\r\n        setDeleted(true)\r\n    }\r\n\r\n    setTimeout(()=>{\r\n        setDeleted(false)\r\n    },2000)\r\n\r\n\r\n    return (\r\n        <div> \r\n            {\r\n                deleted && <div className=\"alert alert-danger\" role=\"alert\">\r\n                    Deleted Successfully\r\n                </div>\r\n            }\r\n            <Addrecipe />\r\n            <h2 className='text-center py-5'>Our Menu</h2>\r\n\r\n            <Categories filterItems={filterItems} categories={categories} />\r\n\r\n            <Menu items={menuItems} handleclick={handledelete} crud={true}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Adminlogin"],"mappings":";;;AAAA,OAAO,sCAAP;AACA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAO,uBAAP;AACA,OAAOC,KAAP,MAAkB,QAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,MAAMC,aAAa,GAAG,CAAC,KAAD,EAAQ,GAAG,IAAIC,GAAJ,CAAQL,KAAK,CAACM,GAAN,CAAWC,IAAD,IAAUA,IAAI,CAACC,QAAzB,CAAR,CAAX,CAAtB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;EAAA;;EAE5BR,SAAS,CAAC,MAAM;IACZ,MAAMS,SAAS,GAAG,YAAY;MAC1B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4CAAD,EAA+C;QACvEC,MAAM,EAAE,KAD+D;QAEvEC,OAAO,EAAE;UACL,gBAAgB;QADX;MAF8D,CAA/C,CAA5B,CAD0B,CAOvB;;MACH,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;MACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ;MACAI,YAAY,CAACJ,IAAI,CAACA,IAAN,CAAZ;IAEH,CAZD;;IAaAL,SAAS;EACZ,CAfQ,EAeN,EAfM,CAAT;EAgBA,MAAM,CAACU,SAAD,EAAYD,YAAZ,IAA4BjB,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACmB,UAAD,EAAaC,aAAb,IAA8BpB,QAAQ,CAACE,aAAD,CAA5C;EACA,MAAM,CAACmB,OAAD,EAAUC,UAAV,IAAwBtB,QAAQ,CAAC,KAAD,CAAtC;;EAEA,MAAMuB,WAAW,GAAIjB,QAAD,IAAc;IAC9B,IAAIA,QAAQ,KAAK,KAAjB,EAAwB;MACpB,OAAOW,YAAY,CAACnB,KAAD,CAAnB;IACH;;IACD,MAAM0B,QAAQ,GAAG1B,KAAK,CAAC2B,MAAN,CAAcpB,IAAD,IAAUA,IAAI,CAACC,QAAL,KAAkBA,QAAzC,CAAjB;IACA,OAAOW,YAAY,CAACO,QAAD,CAAnB;EAEH,CAPD;;EASA,MAAME,YAAY,GAAG,MAAOC,EAAP,IAAc;IAC/BZ,OAAO,CAACC,GAAR,CAAYW,EAAZ;IACA,MAAMlB,QAAQ,GAAG,MAAMC,KAAK,CAAE,gDAA+CiB,EAAG,EAApD,EAAuD;MAC/EhB,MAAM,EAAE,QADuE;MAE/EC,OAAO,EAAE;QACL,gBAAgB;MADX;IAFsE,CAAvD,CAA5B;IAMA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;IACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ;IACAS,UAAU,CAAC,IAAD,CAAV;EACH,CAXD;;EAaAM,UAAU,CAAC,MAAI;IACXN,UAAU,CAAC,KAAD,CAAV;EACH,CAFS,EAER,IAFQ,CAAV;EAKA,oBACI;IAAA,WAEQD,OAAO,iBAAI;MAAK,SAAS,EAAC,oBAAf;MAAoC,IAAI,EAAC,OAAzC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFnB,eAMI,QAAC,SAAD;MAAA;MAAA;MAAA;IAAA,QANJ,eAOI;MAAI,SAAS,EAAC,kBAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAPJ,eASI,QAAC,UAAD;MAAY,WAAW,EAAEE,WAAzB;MAAsC,UAAU,EAAEJ;IAAlD;MAAA;MAAA;MAAA;IAAA,QATJ,eAWI,QAAC,IAAD;MAAM,KAAK,EAAED,SAAb;MAAwB,WAAW,EAAEQ,YAArC;MAAmD,IAAI,EAAE;IAAzD;MAAA;MAAA;MAAA;IAAA,QAXJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAeH,CAhEM;;GAAMnB,U;;KAAAA,U;AAkEb,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}
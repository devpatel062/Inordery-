{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\t\\\\my-react-projects-main\\\\Restaurant-Menu-App\\\\src\\\\components\\\\adminlogin.jsx\",\n    _s = $RefreshSig$();\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Menu from './menu';\nimport Categories from './categories';\nimport '../styles/warning.css';\nimport items from './data';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst allcategories = ['all', ...new Set(items.map(item => item.category))];\nexport const Adminlogin = () => {\n  _s();\n\n  useEffect(() => {\n    const fetchdata = async () => {\n      const response = await fetch(\"http://localhost:3001/mysite/menu/viewmenu\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }); // fetch data from the server\n\n      const data = await response.json();\n      console.log(data);\n      setMenuItems(data.data);\n    };\n\n    fetchdata();\n  }, []);\n  const [menuItems, setMenuItems] = useState([]);\n  const [categories, setcategories] = useState(allcategories);\n\n  const filterItems = category => {\n    if (category === 'all') {\n      return setMenuItems(items);\n    }\n\n    const newItems = items.filter(item => item.category === category);\n    return setMenuItems(newItems);\n  };\n\n  const handledelete = async id => {\n    const response = await fetch(`http://localhost:3001/mysite/menu/deletemenu/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await response.json();\n    console.log(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center py-5\",\n      children: \"Our Menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Categories, {\n      filterItems: filterItems,\n      categories: categories\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      items: menuItems,\n      handleclick: handledelete,\n      crud: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Adminlogin, \"pS4RmlCKis0qD9A3W734zcnyD0Q=\");\n\n_c = Adminlogin;\nexport default Adminlogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Adminlogin\");","map":{"version":3,"names":["Menu","Categories","items","useEffect","useState","allcategories","Set","map","item","category","Adminlogin","fetchdata","response","fetch","method","headers","data","json","console","log","setMenuItems","menuItems","categories","setcategories","filterItems","newItems","filter","handledelete","id"],"sources":["C:/Users/User/Downloads/t/my-react-projects-main/Restaurant-Menu-App/src/components/adminlogin.jsx"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Menu from './menu';\r\nimport Categories from './categories';\r\nimport '../styles/warning.css'\r\nimport items from './data'\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst allcategories = ['all', ...new Set(items.map((item) => item.category))]\r\n\r\nexport const Adminlogin = () => {\r\n\r\n    useEffect(() => {\r\n        const fetchdata = async () => {\r\n            const response = await fetch(\"http://localhost:3001/mysite/menu/viewmenu\", {\r\n                method: \"GET\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n\r\n            }) // fetch data from the server\r\n            const data = await response.json()\r\n            console.log(data)\r\n            setMenuItems(data.data)\r\n\r\n        }\r\n        fetchdata();\r\n    }, []);\r\n    const [menuItems, setMenuItems] = useState([]);\r\n    const [categories, setcategories] = useState(allcategories);\r\n\r\n    const filterItems = (category) => {\r\n        if (category === 'all') {\r\n            return setMenuItems(items);\r\n        }\r\n        const newItems = items.filter((item) => item.category === category)\r\n        return setMenuItems(newItems)\r\n\r\n    }\r\n    \r\n    const handledelete = async (id) => {\r\n        const response = await fetch(`http://localhost:3001/mysite/menu/deletemenu/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n        const data = await response.json()\r\n      console.log(data)\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <h2 className='text-center py-5'>Our Menu</h2>\r\n\r\n            <Categories filterItems={filterItems} categories={categories} />\r\n\r\n            <Menu items={menuItems} handleclick={handledelete} crud={true}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Adminlogin"],"mappings":";;;AAAA,OAAO,sCAAP;AACA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAO,uBAAP;AACA,OAAOC,KAAP,MAAkB,QAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;AAEA,MAAMC,aAAa,GAAG,CAAC,KAAD,EAAQ,GAAG,IAAIC,GAAJ,CAAQJ,KAAK,CAACK,GAAN,CAAWC,IAAD,IAAUA,IAAI,CAACC,QAAzB,CAAR,CAAX,CAAtB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;EAAA;;EAE5BP,SAAS,CAAC,MAAM;IACZ,MAAMQ,SAAS,GAAG,YAAY;MAC1B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4CAAD,EAA+C;QACvEC,MAAM,EAAE,KAD+D;QAEvEC,OAAO,EAAE;UACL,gBAAgB;QADX;MAF8D,CAA/C,CAA5B,CAD0B,CAOvB;;MACH,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;MACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ;MACAI,YAAY,CAACJ,IAAI,CAACA,IAAN,CAAZ;IAEH,CAZD;;IAaAL,SAAS;EACZ,CAfQ,EAeN,EAfM,CAAT;EAgBA,MAAM,CAACU,SAAD,EAAYD,YAAZ,IAA4BhB,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACkB,UAAD,EAAaC,aAAb,IAA8BnB,QAAQ,CAACC,aAAD,CAA5C;;EAEA,MAAMmB,WAAW,GAAIf,QAAD,IAAc;IAC9B,IAAIA,QAAQ,KAAK,KAAjB,EAAwB;MACpB,OAAOW,YAAY,CAAClB,KAAD,CAAnB;IACH;;IACD,MAAMuB,QAAQ,GAAGvB,KAAK,CAACwB,MAAN,CAAclB,IAAD,IAAUA,IAAI,CAACC,QAAL,KAAkBA,QAAzC,CAAjB;IACA,OAAOW,YAAY,CAACK,QAAD,CAAnB;EAEH,CAPD;;EASA,MAAME,YAAY,GAAG,MAAOC,EAAP,IAAc;IAC/B,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAAE,gDAA+Ce,EAAG,EAApD,EAAuD;MAC/Ed,MAAM,EAAE,QADuE;MAE/EC,OAAO,EAAE;QACL,gBAAgB;MADX;IAFsE,CAAvD,CAA5B;IAMA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;IACFC,OAAO,CAACC,GAAR,CAAYH,IAAZ;EACD,CATD;;EAYA,oBACI;IAAA,wBACI;MAAI,SAAS,EAAC,kBAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAGI,QAAC,UAAD;MAAY,WAAW,EAAEQ,WAAzB;MAAsC,UAAU,EAAEF;IAAlD;MAAA;MAAA;MAAA;IAAA,QAHJ,eAKI,QAAC,IAAD;MAAM,KAAK,EAAED,SAAb;MAAwB,WAAW,EAAEM,YAArC;MAAmD,IAAI,EAAE;IAAzD;MAAA;MAAA;MAAA;IAAA,QALJ;EAAA,gBADJ;AASH,CAnDM;;GAAMjB,U;;KAAAA,U;AAqDb,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}